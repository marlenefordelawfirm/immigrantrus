import{X as R,ay as u,cO as b,b6 as p,a_ as m,bb as c,bc as d,r as A,i as D}from"./index.Dg3lKJeg.js";const r=R({key:"settingsPersistedRoleFamilyState",defaultValue:void 0}),_=u({key:"settingsRoleIdsState",default:[]}),k=u({key:"settingsRolesIsLoadingState",default:!0}),f=R({key:"settingsDraftRoleFamilyState",defaultValue:{id:"",label:"",description:"",icon:"",canDestroyAllObjectRecords:!1,canReadAllObjectRecords:!1,canSoftDeleteAllObjectRecords:!1,canUpdateAllObjectRecords:!1,canUpdateAllSettings:!1,canAccessAllTools:!1,isEditable:!1,workspaceMembers:[],permissionFlags:[],objectPermissions:[]}}),F=()=>{const{data:t,loading:a}=b({fetchPolicy:"network-only"}),l=p(k),i=m(({set:s,snapshot:o})=>n=>{const g=n.map(e=>e.id);s(_,g),n.forEach(e=>{const y=c(o,r(e.id)),S=c(o,f(e.id));d(e,y)||(s(r(e.id),e),d(S,e)||s(f(e.id),e))})},[]);return A.useEffect(()=>{if(l(a),!a){const s=t==null?void 0:t.getRoles;if(!D(s))return;i(s)}},[t,a,i,l]),null};export{F as S,r as a,f as b,k as c,_ as s};
