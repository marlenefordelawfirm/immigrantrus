import{d as Bn}from"./index.dom.C3-224fz.js";import{f as L}from"./index.DdCAsX36.js";import{c as Rn}from"./index.ByI_odx6.js";const St={};function yt(n,r){const t=St,e=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,u=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return Xn(n,e,u)}function Xn(n,r,t){if(It(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(r&&"alt"in n&&n.alt)return n.alt;if("children"in n)return Hn(n.children,r,t)}return Array.isArray(n)?Hn(n,r,t):""}function Hn(n,r,t){const e=[];let u=-1;for(;++u<n.length;)e[u]=Xn(n[u],r,t);return e.join("")}function It(n){return!!(n&&typeof n=="object")}function tn(n,r,t,e){const u=n.length;let i=0,l;if(r<0?r=-r>u?0:u+r:r=r>u?u:r,t=t>0?t:0,e.length<1e4)l=Array.from(e),l.unshift(r,t),n.splice(...l);else for(t&&n.splice(r,t);i<e.length;)l=e.slice(i,i+1e4),l.unshift(r,0),n.splice(...l),i+=1e4,r+=1e4}function Z(n,r){return n.length>0?(tn(n,n.length,0,r),n):r}const Vn={}.hasOwnProperty;function wt(n){const r={};let t=-1;for(;++t<n.length;)zt(r,n[t]);return r}function zt(n,r){let t;for(t in r){const u=(Vn.call(n,t)?n[t]:void 0)||(n[t]={}),i=r[t];let l;if(i)for(l in i){Vn.call(u,l)||(u[l]=[]);const a=i[l];Ct(u[l],Array.isArray(a)?a:a?[a]:[])}}}function Ct(n,r){let t=-1;const e=[];for(;++t<r.length;)(r[t].add==="after"?n:e).push(r[t]);tn(n,0,0,e)}function vn(n,r){const t=Number.parseInt(n,r);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"ï¿½":String.fromCodePoint(t)}function mn(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const nn=gn(/[A-Za-z]/),v=gn(/[\dA-Za-z]/),Et=gn(/[#-'*+\--9=?A-Z^-~]/);function Tn(n){return n!==null&&(n<32||n===127)}const Fn=gn(/\d/),Tt=gn(/[\dA-Fa-f]/),Ft=gn(/[!-/:-@[-`{-~]/);function w(n){return n!==null&&n<-2}function $(n){return n!==null&&(n<0||n===32)}function F(n){return n===-2||n===-1||n===32}function gn(n){return r;function r(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}const At={tokenize:_t};function _t(n){const r=n.attempt(this.parser.constructs.contentInitial,e,u);let t;return r;function e(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),L(n,r,"linePrefix")}function u(a){return n.enter("paragraph"),i(a)}function i(a){const m=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=m),t=m,l(a)}function l(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return w(a)?(n.consume(a),n.exit("chunkText"),i):(n.consume(a),l)}}const Bt={tokenize:Pt},Qn={tokenize:Lt};function Pt(n){const r=this,t=[];let e=0,u,i,l;return a;function a(S){if(e<t.length){const M=t[e];return r.containerState=M[1],n.attempt(M[0].continuation,m,h)(S)}return h(S)}function m(S){if(e++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,u&&R();const M=r.events.length;let D=M,k;for(;D--;)if(r.events[D][0]==="exit"&&r.events[D][1].type==="chunkFlow"){k=r.events[D][1].end;break}b(e);let _=M;for(;_<r.events.length;)r.events[_][1].end={...k},_++;return tn(r.events,D+1,0,r.events.slice(M)),r.events.length=_,h(S)}return a(S)}function h(S){if(e===t.length){if(!u)return g(S);if(u.currentConstruct&&u.currentConstruct.concrete)return T(S);r.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return r.containerState={},n.check(Qn,f,p)(S)}function f(S){return u&&R(),b(e),g(S)}function p(S){return r.parser.lazy[r.now().line]=e!==t.length,l=r.now().offset,T(S)}function g(S){return r.containerState={},n.attempt(Qn,c,T)(S)}function c(S){return e++,t.push([r.currentConstruct,r.containerState]),g(S)}function T(S){if(S===null){u&&R(),b(0),n.consume(S);return}return u=u||r.parser.flow(r.now()),n.enter("chunkFlow",{_tokenizer:u,contentType:"flow",previous:i}),A(S)}function A(S){if(S===null){q(n.exit("chunkFlow"),!0),b(0),n.consume(S);return}return w(S)?(n.consume(S),q(n.exit("chunkFlow")),e=0,r.interrupt=void 0,a):(n.consume(S),A)}function q(S,M){const D=r.sliceStream(S);if(M&&D.push(null),S.previous=i,i&&(i.next=S),i=S,u.defineSkip(S.start),u.write(D),r.parser.lazy[S.start.line]){let k=u.events.length;for(;k--;)if(u.events[k][1].start.offset<l&&(!u.events[k][1].end||u.events[k][1].end.offset>l))return;const _=r.events.length;let H=_,B,O;for(;H--;)if(r.events[H][0]==="exit"&&r.events[H][1].type==="chunkFlow"){if(B){O=r.events[H][1].end;break}B=!0}for(b(e),k=_;k<r.events.length;)r.events[k][1].end={...O},k++;tn(r.events,H+1,0,r.events.slice(_)),r.events.length=k}}function b(S){let M=t.length;for(;M-- >S;){const D=t[M];r.containerState=D[1],D[0].exit.call(r,n)}t.length=S}function R(){u.write([null]),i=void 0,u=void 0,r.containerState._closeFlow=void 0}}function Lt(n,r,t){return L(n,n.attempt(this.parser.constructs.document,r,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Pn(n,r,t){const e=[];let u=-1;for(;++u<n.length;){const i=n[u].resolveAll;i&&!e.includes(i)&&(r=i(r,t),e.push(i))}return r}const An={name:"attention",resolveAll:Ot,tokenize:Mt};function Ot(n,r){let t=-1,e,u,i,l,a,m,h,f;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(e=t;e--;)if(n[e][0]==="exit"&&n[e][1].type==="attentionSequence"&&n[e][1]._open&&r.sliceSerialize(n[e][1]).charCodeAt(0)===r.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[e][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[e][1].end.offset-n[e][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;m=n[e][1].end.offset-n[e][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const p={...n[e][1].end},g={...n[t][1].start};jn(p,-m),jn(g,m),l={type:m>1?"strongSequence":"emphasisSequence",start:p,end:{...n[e][1].end}},a={type:m>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:g},i={type:m>1?"strongText":"emphasisText",start:{...n[e][1].end},end:{...n[t][1].start}},u={type:m>1?"strong":"emphasis",start:{...l.start},end:{...a.end}},n[e][1].end={...l.start},n[t][1].start={...a.end},h=[],n[e][1].end.offset-n[e][1].start.offset&&(h=Z(h,[["enter",n[e][1],r],["exit",n[e][1],r]])),h=Z(h,[["enter",u,r],["enter",l,r],["exit",l,r],["enter",i,r]]),h=Z(h,Pn(r.parser.constructs.insideSpan.null,n.slice(e+1,t),r)),h=Z(h,[["exit",i,r],["enter",a,r],["exit",a,r],["exit",u,r]]),n[t][1].end.offset-n[t][1].start.offset?(f=2,h=Z(h,[["enter",n[t][1],r],["exit",n[t][1],r]])):f=0,tn(n,e-1,t-e+3,h),t=e+h.length-f-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function Mt(n,r){const t=this.parser.constructs.attentionMarkers.null,e=this.previous,u=Rn(e);let i;return l;function l(m){return i=m,n.enter("attentionSequence"),a(m)}function a(m){if(m===i)return n.consume(m),a;const h=n.exit("attentionSequence"),f=Rn(m),p=!f||f===2&&u||t.includes(m),g=!u||u===2&&f||t.includes(e);return h._open=!!(i===42?p:p&&(u||!g)),h._close=!!(i===42?g:g&&(f||!p)),r(m)}}function jn(n,r){n.column+=r,n.offset+=r,n._bufferIndex+=r}const Nt={name:"autolink",tokenize:Dt};function Dt(n,r,t){let e=0;return u;function u(c){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),i}function i(c){return nn(c)?(n.consume(c),l):c===64?t(c):h(c)}function l(c){return c===43||c===45||c===46||v(c)?(e=1,a(c)):h(c)}function a(c){return c===58?(n.consume(c),e=0,m):(c===43||c===45||c===46||v(c))&&e++<32?(n.consume(c),a):(e=0,h(c))}function m(c){return c===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.exit("autolink"),r):c===null||c===32||c===60||Tn(c)?t(c):(n.consume(c),m)}function h(c){return c===64?(n.consume(c),f):Et(c)?(n.consume(c),h):t(c)}function f(c){return v(c)?p(c):t(c)}function p(c){return c===46?(n.consume(c),e=0,f):c===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.exit("autolink"),r):g(c)}function g(c){if((c===45||v(c))&&e++<63){const T=c===45?g:p;return n.consume(c),T}return t(c)}}const zn={partial:!0,tokenize:qt};function qt(n,r,t){return e;function e(i){return F(i)?L(n,u,"linePrefix")(i):u(i)}function u(i){return i===null||w(i)?r(i):t(i)}}const nt={continuation:{tokenize:Ht},exit:Vt,name:"blockQuote",tokenize:Rt};function Rt(n,r,t){const e=this;return u;function u(l){if(l===62){const a=e.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),i}return t(l)}function i(l){return F(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),r):(n.exit("blockQuotePrefix"),r(l))}}function Ht(n,r,t){const e=this;return u;function u(l){return F(l)?L(n,i,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return n.attempt(nt,r,t)(l)}}function Vt(n){n.exit("blockQuote")}const tt={name:"characterEscape",tokenize:Qt};function Qt(n,r,t){return e;function e(i){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(i),n.exit("escapeMarker"),u}function u(i){return Ft(i)?(n.enter("characterEscapeValue"),n.consume(i),n.exit("characterEscapeValue"),n.exit("characterEscape"),r):t(i)}}const et={name:"characterReference",tokenize:jt};function jt(n,r,t){const e=this;let u=0,i,l;return a;function a(p){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(p),n.exit("characterReferenceMarker"),m}function m(p){return p===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(p),n.exit("characterReferenceMarkerNumeric"),h):(n.enter("characterReferenceValue"),i=31,l=v,f(p))}function h(p){return p===88||p===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(p),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),i=6,l=Tt,f):(n.enter("characterReferenceValue"),i=7,l=Fn,f(p))}function f(p){if(p===59&&u){const g=n.exit("characterReferenceValue");return l===v&&!Bn(e.sliceSerialize(g))?t(p):(n.enter("characterReferenceMarker"),n.consume(p),n.exit("characterReferenceMarker"),n.exit("characterReference"),r)}return l(p)&&u++<i?(n.consume(p),f):t(p)}}const Un={partial:!0,tokenize:Wt},Wn={concrete:!0,name:"codeFenced",tokenize:Ut};function Ut(n,r,t){const e=this,u={partial:!0,tokenize:D};let i=0,l=0,a;return m;function m(k){return h(k)}function h(k){const _=e.events[e.events.length-1];return i=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,a=k,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f(k)}function f(k){return k===a?(l++,n.consume(k),f):l<3?t(k):(n.exit("codeFencedFenceSequence"),F(k)?L(n,p,"whitespace")(k):p(k))}function p(k){return k===null||w(k)?(n.exit("codeFencedFence"),e.interrupt?r(k):n.check(Un,A,M)(k)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),g(k))}function g(k){return k===null||w(k)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),p(k)):F(k)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),L(n,c,"whitespace")(k)):k===96&&k===a?t(k):(n.consume(k),g)}function c(k){return k===null||w(k)?p(k):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),T(k))}function T(k){return k===null||w(k)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),p(k)):k===96&&k===a?t(k):(n.consume(k),T)}function A(k){return n.attempt(u,M,q)(k)}function q(k){return n.enter("lineEnding"),n.consume(k),n.exit("lineEnding"),b}function b(k){return i>0&&F(k)?L(n,R,"linePrefix",i+1)(k):R(k)}function R(k){return k===null||w(k)?n.check(Un,A,M)(k):(n.enter("codeFlowValue"),S(k))}function S(k){return k===null||w(k)?(n.exit("codeFlowValue"),R(k)):(n.consume(k),S)}function M(k){return n.exit("codeFenced"),r(k)}function D(k,_,H){let B=0;return O;function O(E){return k.enter("lineEnding"),k.consume(E),k.exit("lineEnding"),I}function I(E){return k.enter("codeFencedFence"),F(E)?L(k,y,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):y(E)}function y(E){return E===a?(k.enter("codeFencedFenceSequence"),N(E)):H(E)}function N(E){return E===a?(B++,k.consume(E),N):B>=l?(k.exit("codeFencedFenceSequence"),F(E)?L(k,V,"whitespace")(E):V(E)):H(E)}function V(E){return E===null||w(E)?(k.exit("codeFencedFence"),_(E)):H(E)}}}function Wt(n,r,t){const e=this;return u;function u(l){return l===null?t(l):(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),i)}function i(l){return e.parser.lazy[e.now().line]?t(l):r(l)}}const Cn={name:"codeIndented",tokenize:$t},Yt={partial:!0,tokenize:Zt};function $t(n,r,t){const e=this;return u;function u(h){return n.enter("codeIndented"),L(n,i,"linePrefix",5)(h)}function i(h){const f=e.events[e.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(h):t(h)}function l(h){return h===null?m(h):w(h)?n.attempt(Yt,l,m)(h):(n.enter("codeFlowValue"),a(h))}function a(h){return h===null||w(h)?(n.exit("codeFlowValue"),l(h)):(n.consume(h),a)}function m(h){return n.exit("codeIndented"),r(h)}}function Zt(n,r,t){const e=this;return u;function u(l){return e.parser.lazy[e.now().line]?t(l):w(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),u):L(n,i,"linePrefix",5)(l)}function i(l){const a=e.events[e.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?r(l):w(l)?u(l):t(l)}}const Gt={name:"codeText",previous:Kt,resolve:Jt,tokenize:Xt};function Jt(n){let r=n.length-4,t=3,e,u;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[r][1].type==="lineEnding"||n[r][1].type==="space")){for(e=t;++e<r;)if(n[e][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[r][1].type="codeTextPadding",t+=2,r-=2;break}}for(e=t-1,r++;++e<=r;)u===void 0?e!==r&&n[e][1].type!=="lineEnding"&&(u=e):(e===r||n[e][1].type==="lineEnding")&&(n[u][1].type="codeTextData",e!==u+2&&(n[u][1].end=n[e-1][1].end,n.splice(u+2,e-u-2),r-=e-u-2,e=u+2),u=void 0);return n}function Kt(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Xt(n,r,t){let e=0,u,i;return l;function l(p){return n.enter("codeText"),n.enter("codeTextSequence"),a(p)}function a(p){return p===96?(n.consume(p),e++,a):(n.exit("codeTextSequence"),m(p))}function m(p){return p===null?t(p):p===32?(n.enter("space"),n.consume(p),n.exit("space"),m):p===96?(i=n.enter("codeTextSequence"),u=0,f(p)):w(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),m):(n.enter("codeTextData"),h(p))}function h(p){return p===null||p===32||p===96||w(p)?(n.exit("codeTextData"),m(p)):(n.consume(p),h)}function f(p){return p===96?(n.consume(p),u++,f):u===e?(n.exit("codeTextSequence"),n.exit("codeText"),r(p)):(i.type="codeTextData",h(p))}}class vt{constructor(r){this.left=r?[...r]:[],this.right=[]}get(r){if(r<0||r>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+r+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return r<this.left.length?this.left[r]:this.right[this.right.length-r+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(r,t){const e=t??Number.POSITIVE_INFINITY;return e<this.left.length?this.left.slice(r,e):r>this.left.length?this.right.slice(this.right.length-e+this.left.length,this.right.length-r+this.left.length).reverse():this.left.slice(r).concat(this.right.slice(this.right.length-e+this.left.length).reverse())}splice(r,t,e){const u=t||0;this.setCursor(Math.trunc(r));const i=this.right.splice(this.right.length-u,Number.POSITIVE_INFINITY);return e&&bn(this.left,e),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(r){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(r)}pushMany(r){this.setCursor(Number.POSITIVE_INFINITY),bn(this.left,r)}unshift(r){this.setCursor(0),this.right.push(r)}unshiftMany(r){this.setCursor(0),bn(this.right,r.reverse())}setCursor(r){if(!(r===this.left.length||r>this.left.length&&this.right.length===0||r<0&&this.left.length===0))if(r<this.left.length){const t=this.left.splice(r,Number.POSITIVE_INFINITY);bn(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-r,Number.POSITIVE_INFINITY);bn(this.left,t.reverse())}}}function bn(n,r){let t=0;if(r.length<1e4)n.push(...r);else for(;t<r.length;)n.push(...r.slice(t,t+1e4)),t+=1e4}function rt(n){const r={};let t=-1,e,u,i,l,a,m,h;const f=new vt(n);for(;++t<f.length;){for(;t in r;)t=r[t];if(e=f.get(t),t&&e[1].type==="chunkFlow"&&f.get(t-1)[1].type==="listItemPrefix"&&(m=e[1]._tokenizer.events,i=0,i<m.length&&m[i][1].type==="lineEndingBlank"&&(i+=2),i<m.length&&m[i][1].type==="content"))for(;++i<m.length&&m[i][1].type!=="content";)m[i][1].type==="chunkText"&&(m[i][1]._isInFirstContentOfListItem=!0,i++);if(e[0]==="enter")e[1].contentType&&(Object.assign(r,ne(f,t)),t=r[t],h=!0);else if(e[1]._container){for(i=t,u=void 0;i--;)if(l=f.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(u&&(f.get(u)[1].type="lineEndingBlank"),l[1].type="lineEnding",u=i);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;u&&(e[1].end={...f.get(u)[1].start},a=f.slice(u,t),a.unshift(e),f.splice(u,t-u+1,a))}}return tn(n,0,Number.POSITIVE_INFINITY,f.slice(0)),!h}function ne(n,r){const t=n.get(r)[1],e=n.get(r)[2];let u=r-1;const i=[];let l=t._tokenizer;l||(l=e.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const a=l.events,m=[],h={};let f,p,g=-1,c=t,T=0,A=0;const q=[A];for(;c;){for(;n.get(++u)[1]!==c;);i.push(u),c._tokenizer||(f=e.sliceStream(c),c.next||f.push(null),p&&l.defineSkip(c.start),c._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),c._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=c,c=c.next}for(c=t;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(A=g+1,q.push(A),c._tokenizer=void 0,c.previous=void 0,c=c.next);for(l.events=[],c?(c._tokenizer=void 0,c.previous=void 0):q.pop(),g=q.length;g--;){const b=a.slice(q[g],q[g+1]),R=i.pop();m.push([R,R+b.length-1]),n.splice(R,2,b)}for(m.reverse(),g=-1;++g<m.length;)h[T+m[g][0]]=T+m[g][1],T+=m[g][1]-m[g][0]-1;return h}const te={resolve:re,tokenize:ie},ee={partial:!0,tokenize:ue};function re(n){return rt(n),n}function ie(n,r){let t;return e;function e(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),u(a)}function u(a){return a===null?i(a):w(a)?n.check(ee,l,i)(a):(n.consume(a),u)}function i(a){return n.exit("chunkContent"),n.exit("content"),r(a)}function l(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,u}}function ue(n,r,t){const e=this;return u;function u(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),L(n,i,"linePrefix")}function i(l){if(l===null||w(l))return t(l);const a=e.events[e.events.length-1];return!e.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?r(l):n.interrupt(e.parser.constructs.flow,t,r)(l)}}function it(n,r,t,e,u,i,l,a,m){const h=m||Number.POSITIVE_INFINITY;let f=0;return p;function p(b){return b===60?(n.enter(e),n.enter(u),n.enter(i),n.consume(b),n.exit(i),g):b===null||b===32||b===41||Tn(b)?t(b):(n.enter(e),n.enter(l),n.enter(a),n.enter("chunkString",{contentType:"string"}),A(b))}function g(b){return b===62?(n.enter(i),n.consume(b),n.exit(i),n.exit(u),n.exit(e),r):(n.enter(a),n.enter("chunkString",{contentType:"string"}),c(b))}function c(b){return b===62?(n.exit("chunkString"),n.exit(a),g(b)):b===null||b===60||w(b)?t(b):(n.consume(b),b===92?T:c)}function T(b){return b===60||b===62||b===92?(n.consume(b),c):c(b)}function A(b){return!f&&(b===null||b===41||$(b))?(n.exit("chunkString"),n.exit(a),n.exit(l),n.exit(e),r(b)):f<h&&b===40?(n.consume(b),f++,A):b===41?(n.consume(b),f--,A):b===null||b===32||b===40||Tn(b)?t(b):(n.consume(b),b===92?q:A)}function q(b){return b===40||b===41||b===92?(n.consume(b),A):A(b)}}function ut(n,r,t,e,u,i){const l=this;let a=0,m;return h;function h(c){return n.enter(e),n.enter(u),n.consume(c),n.exit(u),n.enter(i),f}function f(c){return a>999||c===null||c===91||c===93&&!m||c===94&&!a&&"_hiddenFootnoteSupport"in l.parser.constructs?t(c):c===93?(n.exit(i),n.enter(u),n.consume(c),n.exit(u),n.exit(e),r):w(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),f):(n.enter("chunkString",{contentType:"string"}),p(c))}function p(c){return c===null||c===91||c===93||w(c)||a++>999?(n.exit("chunkString"),f(c)):(n.consume(c),m||(m=!F(c)),c===92?g:p)}function g(c){return c===91||c===92||c===93?(n.consume(c),a++,p):p(c)}}function lt(n,r,t,e,u,i){let l;return a;function a(g){return g===34||g===39||g===40?(n.enter(e),n.enter(u),n.consume(g),n.exit(u),l=g===40?41:g,m):t(g)}function m(g){return g===l?(n.enter(u),n.consume(g),n.exit(u),n.exit(e),r):(n.enter(i),h(g))}function h(g){return g===l?(n.exit(i),m(l)):g===null?t(g):w(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),L(n,h,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===l||g===null||w(g)?(n.exit("chunkString"),h(g)):(n.consume(g),g===92?p:f)}function p(g){return g===l||g===92?(n.consume(g),f):f(g)}}function Sn(n,r){let t;return e;function e(u){return w(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),t=!0,e):F(u)?L(n,e,t?"linePrefix":"lineSuffix")(u):r(u)}}const le={name:"definition",tokenize:oe},ae={partial:!0,tokenize:se};function oe(n,r,t){const e=this;let u;return i;function i(c){return n.enter("definition"),l(c)}function l(c){return ut.call(e,n,a,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(c)}function a(c){return u=mn(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)),c===58?(n.enter("definitionMarker"),n.consume(c),n.exit("definitionMarker"),m):t(c)}function m(c){return $(c)?Sn(n,h)(c):h(c)}function h(c){return it(n,f,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(c)}function f(c){return n.attempt(ae,p,p)(c)}function p(c){return F(c)?L(n,g,"whitespace")(c):g(c)}function g(c){return c===null||w(c)?(n.exit("definition"),e.parser.defined.push(u),r(c)):t(c)}}function se(n,r,t){return e;function e(a){return $(a)?Sn(n,u)(a):t(a)}function u(a){return lt(n,i,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return F(a)?L(n,l,"whitespace")(a):l(a)}function l(a){return a===null||w(a)?r(a):t(a)}}const ce={name:"hardBreakEscape",tokenize:he};function he(n,r,t){return e;function e(i){return n.enter("hardBreakEscape"),n.consume(i),u}function u(i){return w(i)?(n.exit("hardBreakEscape"),r(i)):t(i)}}const pe={name:"headingAtx",resolve:fe,tokenize:me};function fe(n,r){let t=n.length-2,e=3,u,i;return n[e][1].type==="whitespace"&&(e+=2),t-2>e&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(e===t-1||t-4>e&&n[t-2][1].type==="whitespace")&&(t-=e+1===t?2:4),t>e&&(u={type:"atxHeadingText",start:n[e][1].start,end:n[t][1].end},i={type:"chunkText",start:n[e][1].start,end:n[t][1].end,contentType:"text"},tn(n,e,t-e+1,[["enter",u,r],["enter",i,r],["exit",i,r],["exit",u,r]])),n}function me(n,r,t){let e=0;return u;function u(f){return n.enter("atxHeading"),i(f)}function i(f){return n.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&e++<6?(n.consume(f),l):f===null||$(f)?(n.exit("atxHeadingSequence"),a(f)):t(f)}function a(f){return f===35?(n.enter("atxHeadingSequence"),m(f)):f===null||w(f)?(n.exit("atxHeading"),r(f)):F(f)?L(n,a,"whitespace")(f):(n.enter("atxHeadingText"),h(f))}function m(f){return f===35?(n.consume(f),m):(n.exit("atxHeadingSequence"),a(f))}function h(f){return f===null||f===35||$(f)?(n.exit("atxHeadingText"),a(f)):(n.consume(f),h)}}const ge=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Yn=["pre","script","style","textarea"],xe={concrete:!0,name:"htmlFlow",resolveTo:be,tokenize:Se},ke={partial:!0,tokenize:Ie},de={partial:!0,tokenize:ye};function be(n){let r=n.length;for(;r--&&!(n[r][0]==="enter"&&n[r][1].type==="htmlFlow"););return r>1&&n[r-2][1].type==="linePrefix"&&(n[r][1].start=n[r-2][1].start,n[r+1][1].start=n[r-2][1].start,n.splice(r-2,2)),n}function Se(n,r,t){const e=this;let u,i,l,a,m;return h;function h(s){return f(s)}function f(s){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(s),p}function p(s){return s===33?(n.consume(s),g):s===47?(n.consume(s),i=!0,A):s===63?(n.consume(s),u=3,e.interrupt?r:o):nn(s)?(n.consume(s),l=String.fromCharCode(s),q):t(s)}function g(s){return s===45?(n.consume(s),u=2,c):s===91?(n.consume(s),u=5,a=0,T):nn(s)?(n.consume(s),u=4,e.interrupt?r:o):t(s)}function c(s){return s===45?(n.consume(s),e.interrupt?r:o):t(s)}function T(s){const K="CDATA[";return s===K.charCodeAt(a++)?(n.consume(s),a===K.length?e.interrupt?r:y:T):t(s)}function A(s){return nn(s)?(n.consume(s),l=String.fromCharCode(s),q):t(s)}function q(s){if(s===null||s===47||s===62||$(s)){const K=s===47,sn=l.toLowerCase();return!K&&!i&&Yn.includes(sn)?(u=1,e.interrupt?r(s):y(s)):ge.includes(l.toLowerCase())?(u=6,K?(n.consume(s),b):e.interrupt?r(s):y(s)):(u=7,e.interrupt&&!e.parser.lazy[e.now().line]?t(s):i?R(s):S(s))}return s===45||v(s)?(n.consume(s),l+=String.fromCharCode(s),q):t(s)}function b(s){return s===62?(n.consume(s),e.interrupt?r:y):t(s)}function R(s){return F(s)?(n.consume(s),R):O(s)}function S(s){return s===47?(n.consume(s),O):s===58||s===95||nn(s)?(n.consume(s),M):F(s)?(n.consume(s),S):O(s)}function M(s){return s===45||s===46||s===58||s===95||v(s)?(n.consume(s),M):D(s)}function D(s){return s===61?(n.consume(s),k):F(s)?(n.consume(s),D):S(s)}function k(s){return s===null||s===60||s===61||s===62||s===96?t(s):s===34||s===39?(n.consume(s),m=s,_):F(s)?(n.consume(s),k):H(s)}function _(s){return s===m?(n.consume(s),m=null,B):s===null||w(s)?t(s):(n.consume(s),_)}function H(s){return s===null||s===34||s===39||s===47||s===60||s===61||s===62||s===96||$(s)?D(s):(n.consume(s),H)}function B(s){return s===47||s===62||F(s)?S(s):t(s)}function O(s){return s===62?(n.consume(s),I):t(s)}function I(s){return s===null||w(s)?y(s):F(s)?(n.consume(s),I):t(s)}function y(s){return s===45&&u===2?(n.consume(s),U):s===60&&u===1?(n.consume(s),Q):s===62&&u===4?(n.consume(s),J):s===63&&u===3?(n.consume(s),o):s===93&&u===5?(n.consume(s),en):w(s)&&(u===6||u===7)?(n.exit("htmlFlowData"),n.check(ke,rn,N)(s)):s===null||w(s)?(n.exit("htmlFlowData"),N(s)):(n.consume(s),y)}function N(s){return n.check(de,V,rn)(s)}function V(s){return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),E}function E(s){return s===null||w(s)?N(s):(n.enter("htmlFlowData"),y(s))}function U(s){return s===45?(n.consume(s),o):y(s)}function Q(s){return s===47?(n.consume(s),l="",G):y(s)}function G(s){if(s===62){const K=l.toLowerCase();return Yn.includes(K)?(n.consume(s),J):y(s)}return nn(s)&&l.length<8?(n.consume(s),l+=String.fromCharCode(s),G):y(s)}function en(s){return s===93?(n.consume(s),o):y(s)}function o(s){return s===62?(n.consume(s),J):s===45&&u===2?(n.consume(s),o):y(s)}function J(s){return s===null||w(s)?(n.exit("htmlFlowData"),rn(s)):(n.consume(s),J)}function rn(s){return n.exit("htmlFlow"),r(s)}}function ye(n,r,t){const e=this;return u;function u(l){return w(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),i):t(l)}function i(l){return e.parser.lazy[e.now().line]?t(l):r(l)}}function Ie(n,r,t){return e;function e(u){return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),n.attempt(zn,r,t)}}const we={name:"htmlText",tokenize:ze};function ze(n,r,t){const e=this;let u,i,l;return a;function a(o){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(o),m}function m(o){return o===33?(n.consume(o),h):o===47?(n.consume(o),D):o===63?(n.consume(o),S):nn(o)?(n.consume(o),H):t(o)}function h(o){return o===45?(n.consume(o),f):o===91?(n.consume(o),i=0,T):nn(o)?(n.consume(o),R):t(o)}function f(o){return o===45?(n.consume(o),c):t(o)}function p(o){return o===null?t(o):o===45?(n.consume(o),g):w(o)?(l=p,Q(o)):(n.consume(o),p)}function g(o){return o===45?(n.consume(o),c):p(o)}function c(o){return o===62?U(o):o===45?g(o):p(o)}function T(o){const J="CDATA[";return o===J.charCodeAt(i++)?(n.consume(o),i===J.length?A:T):t(o)}function A(o){return o===null?t(o):o===93?(n.consume(o),q):w(o)?(l=A,Q(o)):(n.consume(o),A)}function q(o){return o===93?(n.consume(o),b):A(o)}function b(o){return o===62?U(o):o===93?(n.consume(o),b):A(o)}function R(o){return o===null||o===62?U(o):w(o)?(l=R,Q(o)):(n.consume(o),R)}function S(o){return o===null?t(o):o===63?(n.consume(o),M):w(o)?(l=S,Q(o)):(n.consume(o),S)}function M(o){return o===62?U(o):S(o)}function D(o){return nn(o)?(n.consume(o),k):t(o)}function k(o){return o===45||v(o)?(n.consume(o),k):_(o)}function _(o){return w(o)?(l=_,Q(o)):F(o)?(n.consume(o),_):U(o)}function H(o){return o===45||v(o)?(n.consume(o),H):o===47||o===62||$(o)?B(o):t(o)}function B(o){return o===47?(n.consume(o),U):o===58||o===95||nn(o)?(n.consume(o),O):w(o)?(l=B,Q(o)):F(o)?(n.consume(o),B):U(o)}function O(o){return o===45||o===46||o===58||o===95||v(o)?(n.consume(o),O):I(o)}function I(o){return o===61?(n.consume(o),y):w(o)?(l=I,Q(o)):F(o)?(n.consume(o),I):B(o)}function y(o){return o===null||o===60||o===61||o===62||o===96?t(o):o===34||o===39?(n.consume(o),u=o,N):w(o)?(l=y,Q(o)):F(o)?(n.consume(o),y):(n.consume(o),V)}function N(o){return o===u?(n.consume(o),u=void 0,E):o===null?t(o):w(o)?(l=N,Q(o)):(n.consume(o),N)}function V(o){return o===null||o===34||o===39||o===60||o===61||o===96?t(o):o===47||o===62||$(o)?B(o):(n.consume(o),V)}function E(o){return o===47||o===62||$(o)?B(o):t(o)}function U(o){return o===62?(n.consume(o),n.exit("htmlTextData"),n.exit("htmlText"),r):t(o)}function Q(o){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),G}function G(o){return F(o)?L(n,en,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):en(o)}function en(o){return n.enter("htmlTextData"),l(o)}}const Ln={name:"labelEnd",resolveAll:Fe,resolveTo:Ae,tokenize:_e},Ce={tokenize:Be},Ee={tokenize:Pe},Te={tokenize:Le};function Fe(n){let r=-1;const t=[];for(;++r<n.length;){const e=n[r][1];if(t.push(n[r]),e.type==="labelImage"||e.type==="labelLink"||e.type==="labelEnd"){const u=e.type==="labelImage"?4:2;e.type="data",r+=u}}return n.length!==t.length&&tn(n,0,n.length,t),n}function Ae(n,r){let t=n.length,e=0,u,i,l,a;for(;t--;)if(u=n[t][1],i){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;n[t][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(l){if(n[t][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(i=t,u.type!=="labelLink")){e=2;break}}else u.type==="labelEnd"&&(l=t);const m={type:n[i][1].type==="labelLink"?"link":"image",start:{...n[i][1].start},end:{...n[n.length-1][1].end}},h={type:"label",start:{...n[i][1].start},end:{...n[l][1].end}},f={type:"labelText",start:{...n[i+e+2][1].end},end:{...n[l-2][1].start}};return a=[["enter",m,r],["enter",h,r]],a=Z(a,n.slice(i+1,i+e+3)),a=Z(a,[["enter",f,r]]),a=Z(a,Pn(r.parser.constructs.insideSpan.null,n.slice(i+e+4,l-3),r)),a=Z(a,[["exit",f,r],n[l-2],n[l-1],["exit",h,r]]),a=Z(a,n.slice(l+1)),a=Z(a,[["exit",m,r]]),tn(n,i,n.length,a),n}function _e(n,r,t){const e=this;let u=e.events.length,i,l;for(;u--;)if((e.events[u][1].type==="labelImage"||e.events[u][1].type==="labelLink")&&!e.events[u][1]._balanced){i=e.events[u][1];break}return a;function a(g){return i?i._inactive?p(g):(l=e.parser.defined.includes(mn(e.sliceSerialize({start:i.end,end:e.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(g),n.exit("labelMarker"),n.exit("labelEnd"),m):t(g)}function m(g){return g===40?n.attempt(Ce,f,l?f:p)(g):g===91?n.attempt(Ee,f,l?h:p)(g):l?f(g):p(g)}function h(g){return n.attempt(Te,f,p)(g)}function f(g){return r(g)}function p(g){return i._balanced=!0,t(g)}}function Be(n,r,t){return e;function e(p){return n.enter("resource"),n.enter("resourceMarker"),n.consume(p),n.exit("resourceMarker"),u}function u(p){return $(p)?Sn(n,i)(p):i(p)}function i(p){return p===41?f(p):it(n,l,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return $(p)?Sn(n,m)(p):f(p)}function a(p){return t(p)}function m(p){return p===34||p===39||p===40?lt(n,h,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function h(p){return $(p)?Sn(n,f)(p):f(p)}function f(p){return p===41?(n.enter("resourceMarker"),n.consume(p),n.exit("resourceMarker"),n.exit("resource"),r):t(p)}}function Pe(n,r,t){const e=this;return u;function u(a){return ut.call(e,n,i,l,"reference","referenceMarker","referenceString")(a)}function i(a){return e.parser.defined.includes(mn(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)))?r(a):t(a)}function l(a){return t(a)}}function Le(n,r,t){return e;function e(i){return n.enter("reference"),n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),u}function u(i){return i===93?(n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),n.exit("reference"),r):t(i)}}const Oe={name:"labelStartImage",resolveAll:Ln.resolveAll,tokenize:Me};function Me(n,r,t){const e=this;return u;function u(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),i}function i(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),l):t(a)}function l(a){return a===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(a):r(a)}}const Ne={name:"labelStartLink",resolveAll:Ln.resolveAll,tokenize:De};function De(n,r,t){const e=this;return u;function u(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(l):r(l)}}const En={name:"lineEnding",tokenize:qe};function qe(n,r){return t;function t(e){return n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),L(n,r,"linePrefix")}}const In={name:"thematicBreak",tokenize:Re};function Re(n,r,t){let e=0,u;return i;function i(h){return n.enter("thematicBreak"),l(h)}function l(h){return u=h,a(h)}function a(h){return h===u?(n.enter("thematicBreakSequence"),m(h)):e>=3&&(h===null||w(h))?(n.exit("thematicBreak"),r(h)):t(h)}function m(h){return h===u?(n.consume(h),e++,m):(n.exit("thematicBreakSequence"),F(h)?L(n,a,"whitespace")(h):a(h))}}const W={continuation:{tokenize:je},exit:We,name:"list",tokenize:Qe},He={partial:!0,tokenize:Ye},Ve={partial:!0,tokenize:Ue};function Qe(n,r,t){const e=this,u=e.events[e.events.length-1];let i=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,l=0;return a;function a(c){const T=e.containerState.type||(c===42||c===43||c===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!e.containerState.marker||c===e.containerState.marker:Fn(c)){if(e.containerState.type||(e.containerState.type=T,n.enter(T,{_container:!0})),T==="listUnordered")return n.enter("listItemPrefix"),c===42||c===45?n.check(In,t,h)(c):h(c);if(!e.interrupt||c===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),m(c)}return t(c)}function m(c){return Fn(c)&&++l<10?(n.consume(c),m):(!e.interrupt||l<2)&&(e.containerState.marker?c===e.containerState.marker:c===41||c===46)?(n.exit("listItemValue"),h(c)):t(c)}function h(c){return n.enter("listItemMarker"),n.consume(c),n.exit("listItemMarker"),e.containerState.marker=e.containerState.marker||c,n.check(zn,e.interrupt?t:f,n.attempt(He,g,p))}function f(c){return e.containerState.initialBlankLine=!0,i++,g(c)}function p(c){return F(c)?(n.enter("listItemPrefixWhitespace"),n.consume(c),n.exit("listItemPrefixWhitespace"),g):t(c)}function g(c){return e.containerState.size=i+e.sliceSerialize(n.exit("listItemPrefix"),!0).length,r(c)}}function je(n,r,t){const e=this;return e.containerState._closeFlow=void 0,n.check(zn,u,i);function u(a){return e.containerState.furtherBlankLines=e.containerState.furtherBlankLines||e.containerState.initialBlankLine,L(n,r,"listItemIndent",e.containerState.size+1)(a)}function i(a){return e.containerState.furtherBlankLines||!F(a)?(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,l(a)):(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,n.attempt(Ve,r,l)(a))}function l(a){return e.containerState._closeFlow=!0,e.interrupt=void 0,L(n,n.attempt(W,r,t),"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Ue(n,r,t){const e=this;return L(n,u,"listItemIndent",e.containerState.size+1);function u(i){const l=e.events[e.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===e.containerState.size?r(i):t(i)}}function We(n){n.exit(this.containerState.type)}function Ye(n,r,t){const e=this;return L(n,u,"listItemPrefixWhitespace",e.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(i){const l=e.events[e.events.length-1];return!F(i)&&l&&l[1].type==="listItemPrefixWhitespace"?r(i):t(i)}}const $n={name:"setextUnderline",resolveTo:$e,tokenize:Ze};function $e(n,r){let t=n.length,e,u,i;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){e=t;break}n[t][1].type==="paragraph"&&(u=t)}else n[t][1].type==="content"&&n.splice(t,1),!i&&n[t][1].type==="definition"&&(i=t);const l={type:"setextHeading",start:{...n[e][1].start},end:{...n[n.length-1][1].end}};return n[u][1].type="setextHeadingText",i?(n.splice(u,0,["enter",l,r]),n.splice(i+1,0,["exit",n[e][1],r]),n[e][1].end={...n[i][1].end}):n[e][1]=l,n.push(["exit",l,r]),n}function Ze(n,r,t){const e=this;let u;return i;function i(h){let f=e.events.length,p;for(;f--;)if(e.events[f][1].type!=="lineEnding"&&e.events[f][1].type!=="linePrefix"&&e.events[f][1].type!=="content"){p=e.events[f][1].type==="paragraph";break}return!e.parser.lazy[e.now().line]&&(e.interrupt||p)?(n.enter("setextHeadingLine"),u=h,l(h)):t(h)}function l(h){return n.enter("setextHeadingLineSequence"),a(h)}function a(h){return h===u?(n.consume(h),a):(n.exit("setextHeadingLineSequence"),F(h)?L(n,m,"lineSuffix")(h):m(h))}function m(h){return h===null||w(h)?(n.exit("setextHeadingLine"),r(h)):t(h)}}const Ge={tokenize:Je};function Je(n){const r=this,t=n.attempt(zn,e,n.attempt(this.parser.constructs.flowInitial,u,L(n,n.attempt(this.parser.constructs.flow,u,n.attempt(te,u)),"linePrefix")));return t;function e(i){if(i===null){n.consume(i);return}return n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),r.currentConstruct=void 0,t}function u(i){if(i===null){n.consume(i);return}return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),r.currentConstruct=void 0,t}}const Ke={resolveAll:ot()},Xe=at("string"),ve=at("text");function at(n){return{resolveAll:ot(n==="text"?nr:void 0),tokenize:r};function r(t){const e=this,u=this.parser.constructs[n],i=t.attempt(u,l,a);return l;function l(f){return h(f)?i(f):a(f)}function a(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),m}function m(f){return h(f)?(t.exit("data"),i(f)):(t.consume(f),m)}function h(f){if(f===null)return!0;const p=u[f];let g=-1;if(p)for(;++g<p.length;){const c=p[g];if(!c.previous||c.previous.call(e,e.previous))return!0}return!1}}}function ot(n){return r;function r(t,e){let u=-1,i;for(;++u<=t.length;)i===void 0?t[u]&&t[u][1].type==="data"&&(i=u,u++):(!t[u]||t[u][1].type!=="data")&&(u!==i+2&&(t[i][1].end=t[u-1][1].end,t.splice(i+2,u-i-2),u=i+2),i=void 0);return n?n(t,e):t}}function nr(n,r){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const e=n[t-1][1],u=r.sliceStream(e);let i=u.length,l=-1,a=0,m;for(;i--;){const h=u[i];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)a++,l--;if(l)break;l=-1}else if(h===-2)m=!0,a++;else if(h!==-1){i++;break}}if(r._contentTypeTextTrailing&&t===n.length&&(a=0),a){const h={type:t===n.length||m||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:e.start._bufferIndex+l,_index:e.start._index+i,line:e.end.line,column:e.end.column-a,offset:e.end.offset-a},end:{...e.end}};e.end={...h.start},e.start.offset===e.end.offset?Object.assign(e,h):(n.splice(t,0,["enter",h,r],["exit",h,r]),t+=2)}t++}return n}const tr={42:W,43:W,45:W,48:W,49:W,50:W,51:W,52:W,53:W,54:W,55:W,56:W,57:W,62:nt},er={91:le},rr={[-2]:Cn,[-1]:Cn,32:Cn},ir={35:pe,42:In,45:[$n,In],60:xe,61:$n,95:In,96:Wn,126:Wn},ur={38:et,92:tt},lr={[-5]:En,[-4]:En,[-3]:En,33:Oe,38:et,42:An,60:[Nt,we],91:Ne,92:[ce,tt],93:Ln,95:An,96:Gt},ar={null:[An,Ke]},or={null:[42,95]},sr={null:[]},cr=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:or,contentInitial:er,disable:sr,document:tr,flow:ir,flowInitial:rr,insideSpan:ar,string:ur,text:lr},Symbol.toStringTag,{value:"Module"}));function hr(n,r,t){let e={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const u={},i=[];let l=[],a=[];const m={attempt:_(D),check:_(k),consume:R,enter:S,exit:M,interrupt:_(k,{interrupt:!0})},h={code:null,containerState:{},defineSkip:A,events:[],now:T,parser:n,previous:null,sliceSerialize:g,sliceStream:c,write:p};let f=r.tokenize.call(h,m);return r.resolveAll&&i.push(r),h;function p(I){return l=Z(l,I),q(),l[l.length-1]!==null?[]:(H(r,0),h.events=Pn(i,h.events,h),h.events)}function g(I,y){return fr(c(I),y)}function c(I){return pr(l,I)}function T(){const{_bufferIndex:I,_index:y,line:N,column:V,offset:E}=e;return{_bufferIndex:I,_index:y,line:N,column:V,offset:E}}function A(I){u[I.line]=I.column,O()}function q(){let I;for(;e._index<l.length;){const y=l[e._index];if(typeof y=="string")for(I=e._index,e._bufferIndex<0&&(e._bufferIndex=0);e._index===I&&e._bufferIndex<y.length;)b(y.charCodeAt(e._bufferIndex));else b(y)}}function b(I){f=f(I)}function R(I){w(I)?(e.line++,e.column=1,e.offset+=I===-3?2:1,O()):I!==-1&&(e.column++,e.offset++),e._bufferIndex<0?e._index++:(e._bufferIndex++,e._bufferIndex===l[e._index].length&&(e._bufferIndex=-1,e._index++)),h.previous=I}function S(I,y){const N=y||{};return N.type=I,N.start=T(),h.events.push(["enter",N,h]),a.push(N),N}function M(I){const y=a.pop();return y.end=T(),h.events.push(["exit",y,h]),y}function D(I,y){H(I,y.from)}function k(I,y){y.restore()}function _(I,y){return N;function N(V,E,U){let Q,G,en,o;return Array.isArray(V)?rn(V):"tokenize"in V?rn([V]):J(V);function J(j){return xn;function xn(an){const hn=an!==null&&j[an],pn=an!==null&&j.null,yn=[...Array.isArray(hn)?hn:hn?[hn]:[],...Array.isArray(pn)?pn:pn?[pn]:[]];return rn(yn)(an)}}function rn(j){return Q=j,G=0,j.length===0?U:s(j[G])}function s(j){return xn;function xn(an){return o=B(),en=j,j.partial||(h.currentConstruct=j),j.name&&h.parser.constructs.disable.null.includes(j.name)?sn():j.tokenize.call(y?Object.assign(Object.create(h),y):h,m,K,sn)(an)}}function K(j){return I(en,o),E}function sn(j){return o.restore(),++G<Q.length?s(Q[G]):U}}}function H(I,y){I.resolveAll&&!i.includes(I)&&i.push(I),I.resolve&&tn(h.events,y,h.events.length-y,I.resolve(h.events.slice(y),h)),I.resolveTo&&(h.events=I.resolveTo(h.events,h))}function B(){const I=T(),y=h.previous,N=h.currentConstruct,V=h.events.length,E=Array.from(a);return{from:V,restore:U};function U(){e=I,h.previous=y,h.currentConstruct=N,h.events.length=V,a=E,O()}}function O(){e.line in u&&e.column<2&&(e.column=u[e.line],e.offset+=u[e.line]-1)}}function pr(n,r){const t=r.start._index,e=r.start._bufferIndex,u=r.end._index,i=r.end._bufferIndex;let l;if(t===u)l=[n[t].slice(e,i)];else{if(l=n.slice(t,u),e>-1){const a=l[0];typeof a=="string"?l[0]=a.slice(e):l.shift()}i>0&&l.push(n[u].slice(0,i))}return l}function fr(n,r){let t=-1;const e=[];let u;for(;++t<n.length;){const i=n[t];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=r?" ":"	";break}case-1:{if(!r&&u)continue;l=" ";break}default:l=String.fromCharCode(i)}u=i===-2,e.push(l)}return e.join("")}function mr(n){const e={constructs:wt([cr,...(n||{}).extensions||[]]),content:u(At),defined:[],document:u(Bt),flow:u(Ge),lazy:{},string:u(Xe),text:u(ve)};return e;function u(i){return l;function l(a){return hr(e,i,a)}}}function gr(n){for(;!rt(n););return n}const Zn=/[\0\t\n\r]/g;function xr(){let n=1,r="",t=!0,e;return u;function u(i,l,a){const m=[];let h,f,p,g,c;for(i=r+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),p=0,r="",t&&(i.charCodeAt(0)===65279&&p++,t=void 0);p<i.length;){if(Zn.lastIndex=p,h=Zn.exec(i),g=h&&h.index!==void 0?h.index:i.length,c=i.charCodeAt(g),!h){r=i.slice(p);break}if(c===10&&p===g&&e)m.push(-3),e=void 0;else switch(e&&(m.push(-5),e=void 0),p<g&&(m.push(i.slice(p,g)),n+=g-p),c){case 0:{m.push(65533),n++;break}case 9:{for(f=Math.ceil(n/4)*4,m.push(-2);n++<f;)m.push(-1);break}case 10:{m.push(-4),n=1;break}default:e=!0,n=1}p=g+1}return a&&(e&&m.push(-5),r&&m.push(r),m.push(null)),m}}const kr=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function dr(n){return n.replace(kr,br)}function br(n,r,t){if(r)return r;if(t.charCodeAt(0)===35){const u=t.charCodeAt(1),i=u===120||u===88;return vn(t.slice(i?2:1),i?16:10)}return Bn(t)||n}function wn(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Gn(n.position):"start"in n||"end"in n?Gn(n):"line"in n||"column"in n?_n(n):""}function _n(n){return Jn(n&&n.line)+":"+Jn(n&&n.column)}function Gn(n){return _n(n&&n.start)+"-"+_n(n&&n.end)}function Jn(n){return n&&typeof n=="number"?n:1}const st={}.hasOwnProperty;function Sr(n,r,t){return typeof r!="string"&&(t=r,r=void 0),yr(t)(gr(mr(t).document().write(xr()(n,r,!0))))}function yr(n){const r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Dn),autolinkProtocol:B,autolinkEmail:B,atxHeading:i(On),blockQuote:i(pn),characterEscape:B,characterReference:B,codeFenced:i(yn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:i(yn,l),codeText:i(ht,l),codeTextData:B,data:B,codeFlowValue:B,definition:i(pt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:i(ft),hardBreakEscape:i(Mn),hardBreakTrailing:i(Mn),htmlFlow:i(Nn,l),htmlFlowData:B,htmlText:i(Nn,l),htmlTextData:B,image:i(mt),label:l,link:i(Dn),listItem:i(gt),listItemValue:g,listOrdered:i(qn,p),listUnordered:i(qn),paragraph:i(xt),reference:s,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:i(On),strong:i(kt),thematicBreak:i(bt)},exit:{atxHeading:m(),atxHeadingSequence:D,autolink:m(),autolinkEmail:hn,autolinkProtocol:an,blockQuote:m(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:sn,characterReferenceMarkerNumeric:sn,characterReferenceValue:j,characterReference:xn,codeFenced:m(q),codeFencedFence:A,codeFencedFenceInfo:c,codeFencedFenceMeta:T,codeFlowValue:O,codeIndented:m(b),codeText:m(E),codeTextData:O,data:O,definition:m(),definitionDestinationString:M,definitionLabelString:R,definitionTitleString:S,emphasis:m(),hardBreakEscape:m(y),hardBreakTrailing:m(y),htmlFlow:m(N),htmlFlowData:O,htmlText:m(V),htmlTextData:O,image:m(Q),label:en,labelText:G,lineEnding:I,link:m(U),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:K,resourceDestinationString:o,resourceTitleString:J,resource:rn,setextHeading:m(H),setextHeadingLineSequence:_,setextHeadingText:k,strong:m(),thematicBreak:m()}};ct(r,(n||{}).mdastExtensions||[]);const t={};return e;function e(x){let d={type:"root",children:[]};const z={stack:[d],tokenStack:[],config:r,enter:a,exit:h,buffer:l,resume:f,data:t},C=[];let P=-1;for(;++P<x.length;)if(x[P][1].type==="listOrdered"||x[P][1].type==="listUnordered")if(x[P][0]==="enter")C.push(P);else{const X=C.pop();P=u(x,X,P)}for(P=-1;++P<x.length;){const X=r[x[P][0]];st.call(X,x[P][1].type)&&X[x[P][1].type].call(Object.assign({sliceSerialize:x[P][2].sliceSerialize},z),x[P][1])}if(z.tokenStack.length>0){const X=z.tokenStack[z.tokenStack.length-1];(X[1]||Kn).call(z,void 0,X[0])}for(d.position={start:on(x.length>0?x[0][1].start:{line:1,column:1,offset:0}),end:on(x.length>0?x[x.length-2][1].end:{line:1,column:1,offset:0})},P=-1;++P<r.transforms.length;)d=r.transforms[P](d)||d;return d}function u(x,d,z){let C=d-1,P=-1,X=!1,cn,un,kn,dn;for(;++C<=z;){const Y=x[C];switch(Y[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Y[0]==="enter"?P++:P--,dn=void 0;break}case"lineEndingBlank":{Y[0]==="enter"&&(cn&&!dn&&!P&&!kn&&(kn=C),dn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:dn=void 0}if(!P&&Y[0]==="enter"&&Y[1].type==="listItemPrefix"||P===-1&&Y[0]==="exit"&&(Y[1].type==="listUnordered"||Y[1].type==="listOrdered")){if(cn){let fn=C;for(un=void 0;fn--;){const ln=x[fn];if(ln[1].type==="lineEnding"||ln[1].type==="lineEndingBlank"){if(ln[0]==="exit")continue;un&&(x[un][1].type="lineEndingBlank",X=!0),ln[1].type="lineEnding",un=fn}else if(!(ln[1].type==="linePrefix"||ln[1].type==="blockQuotePrefix"||ln[1].type==="blockQuotePrefixWhitespace"||ln[1].type==="blockQuoteMarker"||ln[1].type==="listItemIndent"))break}kn&&(!un||kn<un)&&(cn._spread=!0),cn.end=Object.assign({},un?x[un][1].start:Y[1].end),x.splice(un||C,0,["exit",cn,Y[2]]),C++,z++}if(Y[1].type==="listItemPrefix"){const fn={type:"listItem",_spread:!1,start:Object.assign({},Y[1].start),end:void 0};cn=fn,x.splice(C,0,["enter",fn,Y[2]]),C++,z++,kn=void 0,dn=!0}}}return x[d][1]._spread=X,z}function i(x,d){return z;function z(C){a.call(this,x(C),C),d&&d.call(this,C)}}function l(){this.stack.push({type:"fragment",children:[]})}function a(x,d,z){this.stack[this.stack.length-1].children.push(x),this.stack.push(x),this.tokenStack.push([d,z||void 0]),x.position={start:on(d.start),end:void 0}}function m(x){return d;function d(z){x&&x.call(this,z),h.call(this,z)}}function h(x,d){const z=this.stack.pop(),C=this.tokenStack.pop();if(C)C[0].type!==x.type&&(d?d.call(this,x,C[0]):(C[1]||Kn).call(this,x,C[0]));else throw new Error("Cannot close `"+x.type+"` ("+wn({start:x.start,end:x.end})+"): itâs not open");z.position.end=on(x.end)}function f(){return yt(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(x){if(this.data.expectingFirstListItemValue){const d=this.stack[this.stack.length-2];d.start=Number.parseInt(this.sliceSerialize(x),10),this.data.expectingFirstListItemValue=void 0}}function c(){const x=this.resume(),d=this.stack[this.stack.length-1];d.lang=x}function T(){const x=this.resume(),d=this.stack[this.stack.length-1];d.meta=x}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function q(){const x=this.resume(),d=this.stack[this.stack.length-1];d.value=x.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const x=this.resume(),d=this.stack[this.stack.length-1];d.value=x.replace(/(\r?\n|\r)$/g,"")}function R(x){const d=this.resume(),z=this.stack[this.stack.length-1];z.label=d,z.identifier=mn(this.sliceSerialize(x)).toLowerCase()}function S(){const x=this.resume(),d=this.stack[this.stack.length-1];d.title=x}function M(){const x=this.resume(),d=this.stack[this.stack.length-1];d.url=x}function D(x){const d=this.stack[this.stack.length-1];if(!d.depth){const z=this.sliceSerialize(x).length;d.depth=z}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function _(x){const d=this.stack[this.stack.length-1];d.depth=this.sliceSerialize(x).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function B(x){const z=this.stack[this.stack.length-1].children;let C=z[z.length-1];(!C||C.type!=="text")&&(C=dt(),C.position={start:on(x.start),end:void 0},z.push(C)),this.stack.push(C)}function O(x){const d=this.stack.pop();d.value+=this.sliceSerialize(x),d.position.end=on(x.end)}function I(x){const d=this.stack[this.stack.length-1];if(this.data.atHardBreak){const z=d.children[d.children.length-1];z.position.end=on(x.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&r.canContainEols.includes(d.type)&&(B.call(this,x),O.call(this,x))}function y(){this.data.atHardBreak=!0}function N(){const x=this.resume(),d=this.stack[this.stack.length-1];d.value=x}function V(){const x=this.resume(),d=this.stack[this.stack.length-1];d.value=x}function E(){const x=this.resume(),d=this.stack[this.stack.length-1];d.value=x}function U(){const x=this.stack[this.stack.length-1];if(this.data.inReference){const d=this.data.referenceType||"shortcut";x.type+="Reference",x.referenceType=d,delete x.url,delete x.title}else delete x.identifier,delete x.label;this.data.referenceType=void 0}function Q(){const x=this.stack[this.stack.length-1];if(this.data.inReference){const d=this.data.referenceType||"shortcut";x.type+="Reference",x.referenceType=d,delete x.url,delete x.title}else delete x.identifier,delete x.label;this.data.referenceType=void 0}function G(x){const d=this.sliceSerialize(x),z=this.stack[this.stack.length-2];z.label=dr(d),z.identifier=mn(d).toLowerCase()}function en(){const x=this.stack[this.stack.length-1],d=this.resume(),z=this.stack[this.stack.length-1];if(this.data.inReference=!0,z.type==="link"){const C=x.children;z.children=C}else z.alt=d}function o(){const x=this.resume(),d=this.stack[this.stack.length-1];d.url=x}function J(){const x=this.resume(),d=this.stack[this.stack.length-1];d.title=x}function rn(){this.data.inReference=void 0}function s(){this.data.referenceType="collapsed"}function K(x){const d=this.resume(),z=this.stack[this.stack.length-1];z.label=d,z.identifier=mn(this.sliceSerialize(x)).toLowerCase(),this.data.referenceType="full"}function sn(x){this.data.characterReferenceType=x.type}function j(x){const d=this.sliceSerialize(x),z=this.data.characterReferenceType;let C;z?(C=vn(d,z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):C=Bn(d);const P=this.stack[this.stack.length-1];P.value+=C}function xn(x){const d=this.stack.pop();d.position.end=on(x.end)}function an(x){O.call(this,x);const d=this.stack[this.stack.length-1];d.url=this.sliceSerialize(x)}function hn(x){O.call(this,x);const d=this.stack[this.stack.length-1];d.url="mailto:"+this.sliceSerialize(x)}function pn(){return{type:"blockquote",children:[]}}function yn(){return{type:"code",lang:null,meta:null,value:""}}function ht(){return{type:"inlineCode",value:""}}function pt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ft(){return{type:"emphasis",children:[]}}function On(){return{type:"heading",depth:0,children:[]}}function Mn(){return{type:"break"}}function Nn(){return{type:"html",value:""}}function mt(){return{type:"image",title:null,url:"",alt:null}}function Dn(){return{type:"link",title:null,url:"",children:[]}}function qn(x){return{type:"list",ordered:x.type==="listOrdered",start:null,spread:x._spread,children:[]}}function gt(x){return{type:"listItem",spread:x._spread,checked:null,children:[]}}function xt(){return{type:"paragraph",children:[]}}function kt(){return{type:"strong",children:[]}}function dt(){return{type:"text",value:""}}function bt(){return{type:"thematicBreak"}}}function on(n){return{line:n.line,column:n.column,offset:n.offset}}function ct(n,r){let t=-1;for(;++t<r.length;){const e=r[t];Array.isArray(e)?ct(n,e):Ir(n,e)}}function Ir(n,r){let t;for(t in r)if(st.call(r,t))switch(t){case"canContainEols":{const e=r[t];e&&n[t].push(...e);break}case"transforms":{const e=r[t];e&&n[t].push(...e);break}case"enter":case"exit":{const e=r[t];e&&Object.assign(n[t],e);break}}}function Kn(n,r){throw n?new Error("Cannot close `"+n.type+"` ("+wn({start:n.start,end:n.end})+"): a different token (`"+r.type+"`, "+wn({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+wn({start:r.start,end:r.end})+") is still open")}function Er(n){const r=this;r.parser=t;function t(e){return Sr(e,{...r.data("settings"),...n,extensions:r.data("micromarkExtensions")||[],mdastExtensions:r.data("fromMarkdownExtensions")||[]})}}export{Er as default};
