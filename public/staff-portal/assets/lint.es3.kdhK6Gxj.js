import{C as Q}from"./codemirror.es.CYbQtADy.js";import{G as $,a as I,c as q,e as v,k as C}from"./SettingsGraphQLPlayground.BzLPF7qB.js";import"./codemirror.es2.CXusOVRv.js";import"./index.Dg3lKJeg.js";import"./playgroundApiKeyState.By2k6NBY.js";import"./decode.BDRbQOCM.js";import"./FullScreenContainer.TrEglc8a.js";import"./Breadcrumb.CQyf5Hn6.js";function M(e){l=e,N=e.length,i=c=b=-1,s(),E();const n=j();return d("EOF"),n}let l,N,i,c,b,r,u;function j(){const e=i,n=[];if(d("{"),!w("}")){do n.push(D());while(w(","));d("}")}return{kind:"Object",start:e,end:b,members:n}}function D(){const e=i,n=u==="String"?B():null;d("String"),d(":");const t=L();return{kind:"Member",start:e,end:b,key:n,value:t}}function H(){const e=i,n=[];if(d("["),!w("]")){do n.push(L());while(w(","));d("]")}return{kind:"Array",start:e,end:b,values:n}}function L(){switch(u){case"[":return H();case"{":return j();case"String":case"Number":case"Boolean":case"Null":const e=B();return E(),e}d("Value")}function B(){return{kind:u,start:i,end:c,value:JSON.parse(l.slice(i,c))}}function d(e){if(u===e){E();return}let n;if(u==="EOF")n="[end of file]";else if(c-i>1)n="`"+l.slice(i,c)+"`";else{const t=l.slice(i).match(/^.+?\b/);n="`"+(t?t[0]:l[i])+"`"}throw h(`Expected ${e} but found ${n}.`)}class G extends Error{constructor(n,t){super(n),this.position=t}}function h(e){return new G(e,{start:i,end:c})}function w(e){if(u===e)return E(),!0}function s(){return c<N&&(c++,r=c===N?0:l.charCodeAt(c)),r}function E(){for(b=c;r===9||r===10||r===13||r===32;)s();if(r===0){u="EOF";return}switch(i=c,r){case 34:return u="String",J();case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return u="Number",U();case 102:if(l.slice(i,i+5)!=="false")break;c+=4,s(),u="Boolean";return;case 110:if(l.slice(i,i+4)!=="null")break;c+=3,s(),u="Null";return;case 116:if(l.slice(i,i+4)!=="true")break;c+=3,s(),u="Boolean";return}u=l[i],s()}function J(){for(s();r!==34&&r>31;)if(r===92)switch(r=s(),r){case 34:case 47:case 92:case 98:case 102:case 110:case 114:case 116:s();break;case 117:s(),g(),g(),g(),g();break;default:throw h("Bad character escape sequence.")}else{if(c===N)throw h("Unterminated string.");s()}if(r===34){s();return}throw h("Unterminated string.")}function g(){if(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102)return s();throw h("Expected hexadecimal digit.")}function U(){r===45&&s(),r===48?s():y(),r===46&&(s(),y()),(r===69||r===101)&&(r=s(),(r===43||r===45)&&s(),y())}function y(){if(r<48||r>57)throw h("Expected decimal digit.");do s();while(r>=48&&r<=57)}Q.registerHelper("lint","graphql-variables",(e,n,t)=>{if(!e)return[];let f;try{f=M(e)}catch(a){if(a instanceof G)return[O(t,a.position,a.message)];throw a}const{variableToType:o}=n;return o?_(t,o,f):[]});function _(e,n,t){var f;const o=[];for(const a of t.members)if(a){const p=(f=a.key)===null||f===void 0?void 0:f.value,m=n[p];if(m)for(const[x,V]of k(m,a.value))o.push(O(e,x,V));else o.push(O(e,a.key,`Variable "$${p}" does not appear in any GraphQL query.`))}return o}function k(e,n){if(!e||!n)return[];if(e instanceof $)return n.kind==="Null"?[[n,`Type "${e}" is non-nullable and cannot be null.`]]:k(e.ofType,n);if(n.kind==="Null")return[];if(e instanceof I){const t=e.ofType;if(n.kind==="Array"){const f=n.values||[];return F(f,o=>k(t,o))}return k(t,n)}if(e instanceof q){if(n.kind!=="Object")return[[n,`Type "${e}" must be an Object.`]];const t=Object.create(null),f=F(n.members,o=>{var a;const p=(a=o==null?void 0:o.key)===null||a===void 0?void 0:a.value;t[p]=!0;const m=e.getFields()[p];if(!m)return[[o.key,`Type "${e}" does not have a field "${p}".`]];const x=m?m.type:void 0;return k(x,o.value)});for(const o of Object.keys(e.getFields())){const a=e.getFields()[o];!t[o]&&a.type instanceof $&&!a.defaultValue&&f.push([n,`Object of type "${e}" is missing required field "${o}".`])}return f}return e.name==="Boolean"&&n.kind!=="Boolean"||e.name==="String"&&n.kind!=="String"||e.name==="ID"&&n.kind!=="Number"&&n.kind!=="String"||e.name==="Float"&&n.kind!=="Number"||e.name==="Int"&&(n.kind!=="Number"||(n.value|0)!==n.value)?[[n,`Expected value of type "${e}".`]]:(e instanceof v||e instanceof C)&&(n.kind!=="String"&&n.kind!=="Number"&&n.kind!=="Boolean"&&n.kind!=="Null"||P(e.parseValue(n.value)))?[[n,`Expected value of type "${e}".`]]:[]}function O(e,n,t){return{message:t,severity:"error",type:"validation",from:e.posFromIndex(n.start),to:e.posFromIndex(n.end)}}function P(e){return e==null||e!==e}function F(e,n){return Array.prototype.concat.apply([],e.map(n))}
