import{_}from"./ViewLayoutSection.vue.DQEriikE.js";import{d as x,M as k,b as m,K as y,av as C,o as a,q as i,e as u,k as p,w as v,f as d,u as o,D as h,$ as V,x as w,P as z,aw as B,s as $,F as E,J as I}from"./index._i9Oi-Kg.js";import"./index.Dg3lKJeg.js";import"./clsx.B-dksMZM.js";import"./index.Wb4bzIyB.js";import"./index.BVeNH5zi.js";import"./index.BUCFnM-n.js";import"./index.DEehm0bc.js";import"./index.D4Wp6AEg.js";import"./index.CjrT3HcA.js";import"./index.CWtGfzcb.js";import"./index.D55_0Pbk.js";import"./index.dom.C3-224fz.js";import"./index.DdCAsX36.js";import"./index.ByI_odx6.js";import"./syntax.Dh_7PnPp.js";import"./index.c2V3InAJ.js";import"./default.Cl3hj7Sz.js";import"./index.DOWyBKr8.js";import"./index.COYepv-L.js";import"./index.Dq2i-IQA.js";import"./index.BY3x9OSE.js";import"./index.D13MPiJ5.js";import"./index.C2o2j-tx.js";import"./index.D22iV9cu.js";import"./index.C06_t6vS.js";import"./decode.BDRbQOCM.js";import"./index.bsVAaBS1.js";import"./index.E0wwlW8h.js";import"./index.DWHkiPoB.js";import"./fuse.Ch1WBRTM.js";const D={class:"flex h-full w-full flex-col gap-2 pt-8"},M={class:"flex min-h-8 items-center justify-between gap-2 pl-1.5"},j={class:"has-[:focus-visible]:bg-b-1 z-1 group relative flex flex-col rounded-lg"},N={class:"h-full min-h-[calc(1rem*4)]"},P={key:1,class:"text-c-3 flex h-full items-center justify-center rounded-lg border p-4"},F=x({__name:"MarkdownInput",props:{modelValue:{},environment:{},envVariables:{},workspace:{}},emits:["update:modelValue"],setup(g,{emit:n}){const c=n,r=k("preview"),s=k(null);return y(r,t=>{t==="edit"&&C(()=>{var e;(e=s.value)==null||e.focus()})}),(t,e)=>(a(),m("div",D,[i("div",M,[e[6]||(e[6]=i("h3",{class:"font-bold"},"Description",-1)),r.value==="preview"?(a(),u(o(V),{key:0,class:"text-c-2 hover:text-c-1 flex items-center gap-2",type:"button",size:"sm",variant:"outlined",onClick:e[0]||(e[0]=l=>r.value="edit")},{default:v(()=>[d(o(h),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[5]||(e[5]=i("span",null,"Edit",-1))]),_:1})):p("",!0)]),i("div",j,[i("div",N,[r.value==="preview"?(a(),m(w,{key:0},[t.modelValue?(a(),m(w,{key:0},[t.modelValue?(a(),u(o(z),{key:0,withImages:"",class:"hover:border-b-3 h-full rounded border border-transparent p-1.5",value:t.modelValue,onDblclick:e[1]||(e[1]=l=>r.value="edit")},null,8,["value"])):p("",!0),e[7]||(e[7]=i("div",{class:"brightness-lifted -z-1 bg-b-1 absolute inset-0 hidden rounded group-hover:block group-has-[:focus-visible]:hidden"},null,-1))],64)):(a(),m("div",P,[d(o(V),{class:"hover:bg-b-2 hover:text-c-1 text-c-2 flex items-center gap-2",variant:"ghost",size:"sm",onClick:e[2]||(e[2]=l=>r.value="edit")},{default:v(()=>[d(o(h),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[8]||(e[8]=i("span",null,"Write a description",-1))]),_:1})]))],64)):p("",!0),r.value==="edit"?(a(),u(B,{key:1,ref_key:"codeInputRef",ref:s,class:"h-full border px-0.5 py-0",modelValue:t.modelValue,environment:t.environment,envVariables:t.envVariables,workspace:t.workspace,onBlur:e[3]||(e[3]=l=>r.value="preview"),"onUpdate:modelValue":e[4]||(e[4]=l=>c("update:modelValue",l))},null,8,["modelValue","environment","envVariables","workspace"])):p("",!0)])])]))}}),U=$(F,[["__scopeId","data-v-139eac35"]]),be=x({__name:"CollectionOverview",setup(g){const{activeCollection:n,activeEnvironment:c,activeEnvVariables:r,activeWorkspace:s}=E(),{collectionMutators:t}=I(),e=l=>{n.value&&t.edit(n.value.uid,"info.description",l)};return(l,W)=>(a(),u(_,null,{default:v(()=>{var f,b;return[o(c)&&o(s)?(a(),u(U,{key:0,environment:o(c),envVariables:o(r),workspace:o(s),modelValue:((b=(f=o(n))==null?void 0:f.info)==null?void 0:b.description)??"","onUpdate:modelValue":e},null,8,["environment","envVariables","workspace","modelValue"])):p("",!0)]}),_:1}))}});export{be as default};
