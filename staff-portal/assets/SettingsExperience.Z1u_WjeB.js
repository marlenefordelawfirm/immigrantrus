import{ep as p,eq as n,er as F,es as c,et as g,eu as y,ct as T,j as s,h as R,b0 as E,o as O,ev as C,i as M,be as D,cw as W,ew as U,cL as Y,aJ as k,a as v,ex as L,n as H,bE as Z,b6 as x,ey as P,bo as j,ez as a,eA as z,cu as N,eB as B,eC as $,z as J,l as f,H as I,eD as K,B as X,Z as A}from"./index.Dg3lKJeg.js";import{S as V}from"./SettingsPageContainer.CJeLyK8s.js";import{S as q}from"./SubMenuTopBarContainer.BNGFwgBo.js";import{A as G,f as Q,a as ee}from"./AvailableTimezoneOptions.DphxNs1g.js";import"./Breadcrumb.CQyf5Hn6.js";const ae=e=>G[Q(e)],te=e=>{switch(e){case n.SYSTEM:return p.SYSTEM;case n.MONTH_FIRST:return p.MONTH_FIRST;case n.DAY_FIRST:return p.DAY_FIRST;case n.YEAR_FIRST:return p.YEAR_FIRST;default:return p.MONTH_FIRST}},oe=e=>{switch(e){case c.SYSTEM:return F.SYSTEM;case c.HOUR_24:return F.HOUR_24;case c.HOUR_12:return F.HOUR_12;default:return F.HOUR_24}},le=({onChange:e,timeZone:r,value:t})=>{const i=g(),u=r==="system"?i:r,_=n[y()],m=T(Date.now(),u,_);return s(E,{dropdownId:"datetime-settings-date-format",dropdownWidth:218,label:R._({id:"Lhd0oQ"}),fullWidth:!0,dropdownWidthAuto:!0,value:t,options:[{label:R._({id:"E3AMmw",values:{systemDateFormatLabel:m}}),value:n.SYSTEM},{label:`${T(Date.now(),u,n.MONTH_FIRST)}`,value:n.MONTH_FIRST},{label:`${T(Date.now(),u,n.DAY_FIRST)}`,value:n.DAY_FIRST},{label:`${T(Date.now(),u,n.YEAR_FIRST)}`,value:n.YEAR_FIRST}],onChange:e})},se=({onChange:e,timeZone:r,value:t})=>{const{i18n:i,_:u}=O(),_=g(),m=r==="system"?_:r,S=c[C()],h=T(Date.now(),m,S),w=T(Date.now(),m,c.HOUR_24),l=T(Date.now(),m,c.HOUR_12);return s(E,{dropdownId:"datetime-settings-time-format",dropdownWidth:218,label:i._({id:"n9nSNJ"}),dropdownWidthAuto:!0,fullWidth:!0,value:t,options:[{label:i._({id:"0ZgB1e",values:{systemTimeFormatLabel:h}}),value:c.SYSTEM},{label:i._({id:"QsMprd",values:{hour24Label:w}}),value:c.HOUR_24},{label:i._({id:"4EdXYs",values:{hour12Label:l}}),value:c.HOUR_12}],onChange:e})},ne=({value:e=g(),onChange:r})=>{const t=g(),i=ae(t);return s(E,{dropdownId:"settings-accounts-calendar-time-zone",label:R._({id:"Mz2JN2"}),dropdownWidthAuto:!0,fullWidth:!0,value:e,options:[{label:M(i)?R._({id:"D4SseJ"}).concat(` - ${i.label}`):R._({id:"D4SseJ"}),value:"system"},...ee],onChange:r,withSearchInput:!0})},ie=H.div`
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing(4)};
`,re=()=>{const[e,r]=D(W),[t,i]=D(U),{updateOneRecord:u}=Y({objectNameSingular:k.WorkspaceMember}),_=async l=>{if(!(e!=null&&e.id))throw new Error("User is not logged in");try{await u({idToUpdate:e.id,updateOneRecordInput:l})}catch(o){Z(o)}};if(!M(e))return;const m=(l,o)=>{const d={},b={};switch(l){case"timeZone":{d[l]=o,b[l]=o==="system"?g():o;break}case"dateFormat":{d[l]=te(o),b[l]=o===n.SYSTEM?n[y()]:o;break}case"timeFormat":{d[l]=oe(o),b[l]=o===c.SYSTEM?c[C()]:o;break}}L(b)||i({...t,...b}),L(d)||(r({...e,...d}),_(d))},S=e.timeZone==="system"?"system":t.timeZone,h=e.dateFormat===p.SYSTEM?n.SYSTEM:t.dateFormat,w=e.timeFormat===F.SYSTEM?c.SYSTEM:t.timeFormat;return v(ie,{children:[s(ne,{value:S,onChange:l=>m("timeZone",l)}),s(le,{value:h,onChange:l=>m("dateFormat",l),timeZone:S}),s(se,{value:w,onChange:l=>m("timeFormat",l),timeZone:S})]})},de=H.div`
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing(4)};
`,ce=()=>{const{i18n:e,_:r}=O(),[t,i]=D(W),u=x(P),{updateOneRecord:_}=Y({objectNameSingular:k.WorkspaceMember}),{refreshObjectMetadataItems:m}=j("network-only"),S=async o=>{if(!(t!=null&&t.id))throw new Error("User is not logged in");try{await _({idToUpdate:t.id,updateOneRecordInput:o})}catch(d){Z(d)}};if(!M(t))return;const h=async o=>{i({...t,locale:o}),await S({locale:o});const d=await z(o);u({locale:o,localeCatalog:d||N}),await B(o);try{localStorage.setItem("locale",o)}catch(b){console.log("Failed to save locale to localStorage:",b)}await m()},l=[...[{label:e._({id:"1Cox/a"}),value:a["af-ZA"]},{label:e._({id:"8HV3WN"}),value:a["ar-SA"]},{label:e._({id:"M1RLfx"}),value:a["ca-ES"]},{label:e._({id:"SviKkE"}),value:a["zh-CN"]},{label:e._({id:"dzb4Ep"}),value:a["zh-TW"]},{label:e._({id:"w9VTXG"}),value:a["cs-CZ"]},{label:e._({id:"Fo2vDn"}),value:a["da-DK"]},{label:e._({id:"KIjvtr"}),value:a["nl-NL"]},{label:e._({id:"lYGfRP"}),value:a.en},{label:e._({id:"USZ2N6"}),value:a["fi-FI"]},{label:e._({id:"nLC6tu"}),value:a["fr-FR"]},{label:e._({id:"DDcvSo"}),value:a["de-DE"]},{label:e._({id:"CZXzs4"}),value:a["el-GR"]},{label:e._({id:"3oTCgM"}),value:a["he-IL"]},{label:e._({id:"mkWad2"}),value:a["hu-HU"]},{label:e._({id:"Lj7sBL"}),value:a["it-IT"]},{label:e._({id:"dFtidv"}),value:a["ja-JP"]},{label:e._({id:"h6S9Yz"}),value:a["ko-KR"]},{label:e._({id:"1IipHp"}),value:a["no-NO"]},{label:e._({id:"trnWaw"}),value:a["pl-PL"]},{label:e._({id:"xtXHeo"}),value:a["pt-PT"]},{label:e._({id:"0nsqwk"}),value:a["pt-BR"]},{label:e._({id:"uJc01W"}),value:a["ro-RO"]},{label:e._({id:"nji0/X"}),value:a["ru-RU"]},{label:e._({id:"6oxz/y"}),value:a["sr-Cyrl"]},{label:e._({id:"65A04M"}),value:a["es-ES"]},{label:e._({id:"UaISq3"}),value:a["sv-SE"]},{label:e._({id:"Kz91g/"}),value:a["tr-TR"]},{label:e._({id:"V9+2pH"}),value:a["uk-UA"]},{label:e._({id:"fROFIL"}),value:a["vi-VN"]}]].sort((o,d)=>o.label.localeCompare(d.label));return s(de,{children:s(E,{dropdownId:"preferred-locale",dropdownWidthAuto:!0,fullWidth:!0,value:t.locale,options:l,onChange:o=>h(o)})})},Te=()=>{const{colorScheme:e,setColorScheme:r}=$(),{i18n:t,_:i}=O();return s(q,{title:t._({id:"bKBhgb"}),links:[{children:s(A,{id:"7PzzBU"}),href:J(X.ProfilePage)},{children:s(A,{id:"bKBhgb"})}],children:v(V,{children:[v(f,{children:[s(I,{title:t._({id:"aAIQg2"})}),s(K,{value:e,onChange:r,lightLabel:t._({id:"1njn7W"}),darkLabel:t._({id:"pvnfJD"}),systemLabel:t._({id:"D4SseJ"})})]}),v(f,{children:[s(I,{title:t._({id:"Ud9zHv"}),description:t._({id:"aGwm+D"})}),s(re,{})]}),v(f,{children:[s(I,{title:t._({id:"vXIe7J"}),description:t._({id:"AXTJAW"})}),s(ce,{})]})]})})};export{Te as SettingsExperience};
