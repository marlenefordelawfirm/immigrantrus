import{a as d,j as e,n as g,dr as M,dn as y,ds as l,dp as S,cL as T,aJ as E,l as u,h as a,H as A,L as N,dt as f,bT as x,b8 as R,R as P,cw as O,b3 as h,c1 as V,Y as U,ad as k,o as j,z as b,B as v}from"./index.Dg3lKJeg.js";import{M as p}from"./MessageChannel.DsViokZd.js";import{S as C}from"./SettingsOptionCardContentToggle.DYPf28jM.js";import{I as D}from"./IconBriefcase.CzLK3Sam.js";import{S as B}from"./SettingsNewAccountSection.BD7mj9cD.js";import{S as G}from"./SettingsPageContainer.CJeLyK8s.js";import{S as w}from"./SubMenuTopBarContainer.BNGFwgBo.js";import"./SettingsOptionIconCustomizer.BYkiWDDL.js";import"./SettingsAccountsListEmptyStateCard.C5yZXEkx.js";import"./SettingsCard.EuecTdsf.js";import"./Breadcrumb.CQyf5Hn6.js";const H=g(M)`
  align-items: stretch;
`,_=g.div`
  background-color: ${({isActive:t,theme:i})=>t?i.accent.accent4060:i.background.quaternary};
  border-radius: 1px;
  height: 24px;
`,m=({className:t,isSentActive:i,isReceivedActive:c})=>d(H,{className:t,children:[e(_,{isActive:i}),e(_,{isActive:c})]}),L=[{title:{id:"hdVMzO"},description:{id:"PxBA+g"},value:p.SENT_AND_RECEIVED,cardMedia:e(m,{isSentActive:!0,isReceivedActive:!0})},{title:{id:"h69WC6"},description:{id:"U/UvMm"},value:p.SENT,cardMedia:e(m,{isSentActive:!0})},{title:{id:"EdQY6l"},description:{id:"KUxVkp"},value:p.NONE,cardMedia:e(m,{isSentActive:!1,isReceivedActive:!1})}],Y=({onChange:t,value:i=p.SENT_AND_RECEIVED})=>e(y,{name:"message-auto-creation",options:L,value:i,onChange:t}),q=[{title:{id:"wqF3jl"},description:{id:"J9ylmk"},value:l.SHARE_EVERYTHING,cardMedia:e(S,{metadata:"active",subject:"active",body:"active"})},{title:{id:"97eDN2"},description:{id:"LYbP/A"},value:l.SUBJECT,cardMedia:e(S,{metadata:"active",subject:"active",body:"inactive"})},{title:{id:"6GBt0m"},description:{id:"/VwdtK"},value:l.METADATA,cardMedia:e(S,{metadata:"active",subject:"inactive",body:"inactive"})}],F=({onChange:t,value:i=l.SHARE_EVERYTHING})=>e(y,{name:"message-visibility",options:q,value:i,onChange:t}),Q=g.div`
  display: flex;
  flex-direction: column;
  gap: ${({theme:t})=>t.spacing(6)};
`,$=({messageChannel:t})=>{const{updateOneRecord:i}=T({objectNameSingular:E.MessageChannel}),c=o=>{i({idToUpdate:t.id,updateOneRecordInput:{visibility:o}})},s=o=>{i({idToUpdate:t.id,updateOneRecordInput:{contactAutoCreationPolicy:o}})},r=o=>{i({idToUpdate:t.id,updateOneRecordInput:{excludeGroupEmails:o}})},n=o=>{i({idToUpdate:t.id,updateOneRecordInput:{excludeNonProfessionalEmails:o}})};return d(Q,{children:[d(u,{children:[e(A,{title:a._({id:"2q/Q7x"}),description:a._({id:"bQkkFU"})}),e(F,{value:t.visibility,onChange:c})]}),d(u,{children:[e(A,{title:a._({id:"Y2y0mC"}),description:a._({id:"RpExX0"})}),e(Y,{value:t.contactAutoCreationPolicy,onChange:s})]}),e(u,{children:d(N,{rounded:!0,children:[e(C,{Icon:D,title:a._({id:"+tk2yZ"}),description:a._({id:"cx0Ws8"}),divider:!0,checked:t.excludeNonProfessionalEmails,onChange:()=>{n(!t.excludeNonProfessionalEmails)}}),e(C,{Icon:f,title:a._({id:"QQlMid"}),description:a._({id:"3qDEYI"}),checked:t.excludeGroupEmails,onChange:()=>r(!t.excludeGroupEmails)})]})})]})},I="settings-account-message-channels-tab-list",z=g.div`
  padding-bottom: ${({theme:t})=>t.spacing(6)};
`,J=()=>{const t=x(R,I),i=P(O),{records:c}=h({objectNameSingular:E.ConnectedAccount,filter:{accountOwnerId:{eq:i==null?void 0:i.id}}}),{records:s}=h({objectNameSingular:E.MessageChannel,filter:{connectedAccountId:{in:c.map(n=>n.id)},isSyncEnabled:{eq:!0}},skip:!c.length}),r=[...s.map(n=>({id:n.id,title:n.handle}))];return s.length?d(k,{children:[r.length>1&&e(z,{children:e(V,{tabs:r,componentInstanceId:I})}),s.map(n=>e(U.Fragment,{children:(s.length===1||n.id===t)&&e($,{messageChannel:n})},n.id))]}):e(B,{})},st=()=>{const{i18n:t,_:i}=j();return e(w,{title:t._({id:"BXEcos"}),links:[{children:t._({id:"7PzzBU"}),href:b(v.ProfilePage)},{children:t._({id:"bPwFdf"}),href:b(v.Accounts)},{children:t._({id:"BXEcos"})}],children:e(G,{children:e(u,{children:e(J,{})})})})};export{st as SettingsAccountsEmails};
